<!DOCTYPE html>
<html>
<body style="text-align:center;padding-top:100px;background:#0f172a;color:white;">
    <h1 style="color:#60a5fa;">üé§ –ì–æ–ª–æ—Å–æ–≤–æ–π —á–∞—Ç</h1>
    <div style="background:#1e293b;padding:30px;border-radius:15px;max-width:400px;margin:0 auto;">
        <input id="name" placeholder="–í–∞—à–µ –∏–º—è" value="–Ø" style="padding:15px;width:80%;margin:10px;"><br>
        <input id="room" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã" value="–¥—Ä—É–∑—å—è" style="padding:15px;width:80%;margin:10px;"><br>
        <button onclick="start()" style="padding:15px 30px;background:#4CAF50;color:white;border:none;border-radius:8px;font-size:18px;margin:20px;">
            –í–æ–π—Ç–∏ –≤ –∫–æ–º–Ω–∞—Ç—É
        </button>
        <div id="chat" style="display:none;margin-top:30px;padding:20px;background:#334155;border-radius:10px;">
            <div style="color:#4ade80;">‚úÖ –í—ã –≤ –∫–æ–º–Ω–∞—Ç–µ!</div>
            <div style="margin:15px 0;word-break:break-all;">
                <strong>–°—Å—ã–ª–∫–∞ –¥–ª—è –¥—Ä—É–≥–∞:</strong><br>
                <span id="link" style="color:#cbd5e1;">...</span>
            </div>
            <button onclick="copyLink()" style="padding:10px;background:#2196F3;color:white;border:none;border-radius:5px;margin:5px;">
                üìã –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å
            </button>
        </div>
    </div>
    <script>
        async function start() {
            try {
                const stream = await navigator.mediaDevices.getUserMedia({audio:true});
                document.getElementById('chat').style.display = 'block';
                const room = document.getElementById('room').value;
                const link = window.location.href.split('?')[0] + '?room=' + room;
                document.getElementById('link').textContent = link;
                alert('‚úÖ –ú–∏–∫—Ä–æ—Ñ–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç!\n–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫—É –¥—Ä—É–≥—É.');
            } catch(e) {
                alert('‚ùå –û—à–∏–±–∫–∞: ' + e.message);
            }
        }
        function copyLink() {
            const link = document.getElementById('link').textContent;
            navigator.clipboard.writeText(link);
            alert('‚úÖ –°—Å—ã–ª–∫–∞ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∞!');
        }
        // –ê–≤—Ç–æ–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–Ω–∞—Ç—ã
        if(window.location.search.includes('room=')) {
            document.getElementById('room').value = new URLSearchParams(window.location.search).get('room');
        }
    </script>
</body>
</html>
